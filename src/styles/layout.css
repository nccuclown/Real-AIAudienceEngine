/* layout.css - 佈局相關，包含網格、定位等 */

/* ---------- 視覺化區域樣式 ---------- */
.visualization-container {
  position: relative;
  display: grid;
  grid-template-columns: 30% 40% 30%;
  grid-template-rows: 100%;
  height: 100%;
  flex: 1;
  z-index: 20;
  overflow: visible; /* 改為 visible 允許內容溢出 */
}

/* 添加動畫邊界限制，確保所有內容都在上下邊界內 */
.animation-boundary {
  position: relative;
  overflow: visible; /* 修改為 visible 允許內容溢出 */
  max-height: calc(100% - 110px); /* 限制高度，避免超出 */
  margin-bottom: 10px;
}

.left-zone,
.center-zone,
.right-zone {
  position: relative;
  height: 100%;
  padding: 10px;
  overflow: visible; /* 修改為 visible 允許內容溢出 */
}

/* 確保center-zone能正確包含多個視覺化元素 */
.center-zone {
  position: relative;
  overflow: visible; /* 保持為visible，確保元素不被裁剪 */
}

/* 明確定義層次，避免視覺元素互相遮擋 */
.sphere-container,
.cube-container,
.data-fusion-container,
.matching-container {
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 20;
}

/* 強制定義cube-container的顯示層級 */
.cube-container {
  z-index: 25;
}

/* 增加層級控制類 */
.cube-layer,
.sphere-layer {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.cube-layer {
  z-index: 25;
}

.sphere-layer {
  z-index: 30; /* 提高球體層的 z-index 使其顯示在上層 */
}

/* 確保特定階段的元素顯示在其他元素之上 */
.active-stage {
  z-index: 35;
}

/* 提供一個用於調試的輔助類 */
.debug-outline {
  border: 1px dashed rgba(255, 0, 0, 0.5);
}

/* 防止元素溢出造成頁面滾動 */
.overflow-guard {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

/* 確保元素在動畫過程中保持良好的性能 */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}
